import {list, ListConfig} from "@keystone-6/core";
import {allowAll} from "@keystone-6/core/access";
import {relationship, text} from "@keystone-6/core/fields";
import type { Lists } from ".keystone/types";

const tagsCollection = {
    Tag: list({
        // WARNING
        //   for this starter project, anyone can create, query, update and delete anything
        //   if you want to prevent random people on the internet from accessing your data,
        //   you can find out more at https://keystonejs.com/docs/guides/auth-and-access-control
        access: allowAll,
        
        // setting this to isHidden for the user interface prevents this list being visible in the Admin UI
        ui: {
            isHidden: true,
        },
        
        // this is the fields for our Tag list
        fields: {
            name: text(),
            // this can be helpful to find out all the Posts associated with a Tag
            posts: relationship({ref: 'Post.tags', many: true}),
        },
    }),
} satisfies Lists;
export default tagsCollection;